#pragma once
// Cwiczenia.cpp : Defines the entry point for the console application.
//


#ifndef mapa_h
#define mapa_h

using namespace std;






char mapa1[20][20] =////mapa[y-liczba "wersow"][x-liczba znakow w kazdym wersie]

{

	' ',' ',' ','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%',
	'%',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','%',
	'%',' ',' ','%','%','%','%','%',' ',' ','%','%','%','%','%','%','%','%','%','%',
	'%',' ','O','%','%','%','%','%',' ',' ','%','%','%','%','%','%','%','%','%','%',
	'%',' ',' ',' ','?',' ','%','%',' ',' ','%','%','%','%','%','%','%','%','%','%',
	'%',' ',' ','%','%',' ','%','%',' ',' ',' ',' ','?',' ',' ',' ','%','%','%','%',
	'%',' ',' ','%','%',' ','%','%',' ','?','%','%','%','%',' ',' ','%','%','%','%',
	'%',' ',' ',' ',' ',' ','%','%',' ',' ','%','%','%','%',' ',' ','%','%','%','%',
	'%','%','%',' ',' ','%','%','%','%','%','%','%','%','%',' ',' ','%','%','%','%',
	'%','%','%','-','-','%','%','%','%','%','%','%','%','%',' ',' ','%','%','%','%',
	'%','%','%',' ',' ','%','%','%','%','%',' ',' ','?',' ',' ',' ',' ',' ',' ','%',
	'%',' ',' ','?',' ','?',' ',' ','%','%',' ',' ','%','%','%','%','%',' ',' ','%',
	'%',' ',' ','%','%','%',' ',' ','%','%',' ',' ','%','%','%','%','%',' ',' ','%',
	'%','?',' ','%','%','%',' ',' ','%','%',' ',' ','%','%','%','%','%',' ',' ','%',
	'%',' ',' ',' ',' ',' ',' ',' ','%','%',' ',' ','%','%','%','%','%',' ',' ','%',
	'%',' ',' ','%','%','%',' ',' ','%','%',' ',' ',' ','?',' ',' ','?',' ',' ','%',
	'%',' ',' ','%','%','%',' ',' ','%','%','%','%','%','%',' ',' ','%','%','%','%',
	'%',' ',' ','%','%','%',' ',' ','%','%','%','%','%','%',' ',' ','%','%','%','%',
	'%',' ','%','%','%','%',' ','?',' ','%','%','%','%','%',' ',' ','%','%','%','%',
	' ','?',' ','%','%','%','%','%','%','%','%','%','%','%',' ','O',' ','%','%','%',



};

char mapa2[20][20] =

{

'%',' ','%','%','%','%','%','%','%','%','%','%','%','%',' ','F',' ','%','%','%',
'%',' ','%','%','%','%','%','%','%','%','%','%','%','%',' ',' ',' ','%','%','%',
'%',' ',' ',' ',' ',' ','%',' ',' ',' ',' ',' ',' ',' ','%',' ',' ','%','%','%',
'%','%','%','%',' ',' ',' ',' ','%','%','%','%',' ',' ','%',' ',' ',' ','%','%',
'%','%','%','%','%','%','%',' ',' ',' ',' ',' ',' ',' ','%','%','%',' ',' ','%',
'%','%','%',' ',' ',' ',' ',' ',' ','%','%','%','%',' ',' ','%','%',' ',' ','%',
'%',' ',' ',' ',' ','%','%',' ',' ','%','%','%','%',' ',' ','%','%',' ',' ','%',
'%',' ',' ','%','%','%','%',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','%',
'%',' ',' ','%','%','%','%','%','%','%','%','%','%','%','%','%','%',' ',' ','%',
'%',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','%','%','%','%','%','%',' ',' ','%',
'%',' ',' ','%','%',' ',' ','%','%',' ',' ','%','%',' ',' ',' ',' ',' ',' ','%',
'%',' ',' ','%','%',' ',' ','%','%',' ',' ','%','%','%','%','%','%','%','%','%',
'%',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','%','%','%','%','%',' ',' ','%','%',
'%','%','%','%','%','%','%','%','%',' ',' ','%','%','%','%','%',' ',' ','%','%',
'%','%','%',' ',' ',' ',' ',' ',' ',' ',' ','%','%','%','%',' ',' ',' ',' ','%',
'%','%','%',' ',' ','%','%','%','%','%','%','%','%','%','%',' ',' ',' ',' ','%',
'%',' ',' ',' ',' ',' ',' ',' ',' ','%','%','%','%','%','%',' ',' ',' ',' ','%',
'%',' ','%','%','%','%','%','%',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ',' ','%',
'%',' ','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%',
'%',' ','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%','%',
};

void gra1();

void gra1()

{
	int pozycja_x = 0;
	int pozycja_y = 0;
	bool koniec = false;
	char ruch;
	char gracz = 'x';
	int walka();
	



	while (!koniec)

	{

		system("cls");

		for (int y = 0; y<20; y++)

		{

			for (int x = 0; x<20; x++)

			{

				if (x == pozycja_x && y == pozycja_y)

				{

					cout << gracz;

				}//if

				else

				{

					cout << mapa1[y][x];

				}//else

			}//for

			cout << "\n";

		}//for

		ruch = _getch();

		switch (ruch)

		{

		case 'a': if (mapa1[pozycja_y][pozycja_x - 1] == ' ' || mapa1[pozycja_y][pozycja_x - 1] == 'O')

			--pozycja_x; break;

		case 'd': if (mapa1[pozycja_y][pozycja_x + 1] == ' ' || mapa1[pozycja_y][pozycja_x + 1] == 'O')

			++pozycja_x; break;

		case 'w': if (mapa1[pozycja_y - 1][pozycja_x] == ' ' || mapa1[pozycja_y - 1][pozycja_x] == 'O')

			--pozycja_y; break;

		case 's': if (mapa1[pozycja_y + 1][pozycja_x] == ' ' || mapa1[pozycja_y + 1][pozycja_x] == 'O')

			++pozycja_y; break;

	

		}//switch

		if (mapa1[pozycja_y][pozycja_x] == 'O')

		{
			pozycja_x = 15;

			pozycja_y = 0;

			koniec = false;

			while (!koniec)

			{

				system("cls");

				for (int y = 0; y < 20; y++)

				{

					for (int x = 0; x < 20; x++)

					{

						if (x == pozycja_x && y == pozycja_y)

						{

							cout << gracz;

						}//if

						else

						{

							cout << mapa2[y][x];

						}//else

					}//for

					cout << "\n";

				}//for

				ruch = _getch();

				switch (ruch)

				{

				case 'a': if (mapa2[pozycja_y][pozycja_x - 1] == ' ' || mapa2[pozycja_y][pozycja_x - 1] == 'O' || mapa2[pozycja_y][pozycja_x - 1] == 'F' || mapa2[pozycja_y][pozycja_x - 1] == 'Z')

					--pozycja_x; break;

				case 'd': if (mapa2[pozycja_y][pozycja_x + 1] == ' ' || mapa2[pozycja_y][pozycja_x + 1] == 'O' || mapa2[pozycja_y][pozycja_x + 1] == 'F' || mapa2[pozycja_y][pozycja_x + 1] == 'Z')

					++pozycja_x; break;

				case 'w': if (mapa2[pozycja_y - 1][pozycja_x] == ' ' || mapa2[pozycja_y - 1][pozycja_x] == 'O' || mapa2[pozycja_y - 1][pozycja_x] == 'F' || mapa2[pozycja_y - 1][pozycja_x] == 'Z')

					--pozycja_y; break;

				case 's': if (mapa2[pozycja_y + 1][pozycja_x] == ' ' || mapa2[pozycja_y + 1][pozycja_x] == 'O' || mapa2[pozycja_y + 1][pozycja_x] == 'F' || mapa2[pozycja_y + 1][pozycja_x] == 'Z')

					++pozycja_y; break;



				}//switch

				if (mapa2[pozycja_y][pozycja_x] == 'O')

				{

					koniec = true;

				}//if
				if (mapa2[pozycja_y][pozycja_x] == 'F')//powrÃ³t to poprzedniej mapy
				{
					break;

				}
				if (mapa2[pozycja_y][pozycja_x] == 'Z') //akcja
				{ 
					walka();
					mapa2[pozycja_y = 1][pozycja_x = 3]=' ';
					mapa2[pozycja_y = 1][pozycja_x = 4];
					
				}
			}//while
			mapa2[pozycja_y = 19][pozycja_x = 15];



		}
	}//while


}




#endif
